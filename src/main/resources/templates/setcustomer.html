<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>setcustomer</title>
</head>
<body>
<form th:action="@{/customers/update}" th:method="post" th:object="${customerDto}" >
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
    <fieldset>
        <legend>zmień dane klienta</legend>
        <p>
            <label for="id">id</label>
            <input type="number" id="id" name="id" th:value= "${customer.id}" />
            <!--            <span th:if="${#fields.hasErrors('updatedemail')}" th:errors="*{email}"></span>-->
        </p>
        <p>
            <label for="email">Email</label>
            <input type="email" id="email" name="email" th:value="${customer.email}"/>
            <!--            <span th:if="${#fields.hasErrors('updatedemail')}" th:errors="*{email}"></span>-->
        </p>
        <p>
            <label for="password">Password</label>
            <input type="password" id="password" name="password" th:value= "${customer.password}" />
            <!--            <span th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Email Error</span>-->
        </p>
        <p>
            <label for="firstname">Imię</label>
            <input type="text" id="firstname" name="firstname"  th:value="${customer.firstname}"/>

        </p>
        <p>
            <label for="lastname">Nazwisko</label>
            <input type="text" id="lastname" name="lastname" th:value = "${customer.lastname}"/>
        </p>

        <form th:action="@{/customers/(id=${customer.id})}" th:method="post" th:object="${addressDto}">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
            <fieldset>
                <p>
                    <label for="city">Miasto</label>
                    <input type="text" id="city" name="city" th:value = "${customer.address.city}"/>
                </p>
                <p>
                    <label for="street">Ulica</label>
                    <input type="text" id="street" name="street"th:value = "${customer.address.street}"/>
                </p><p>
                <label for="number">Nr domu/mieszkania</label>
                <input type="text" id="number" name="number"th:value = "${customer.address.number}"/>
            </p><p>
                <label for="zipcode">kod pocztowy</label>
                <input type="text" id="zipcode" name="zipcode"th:value= "${customer.address.zipcode}"/>
            </p>
                <br/>
                <div>
                    <button type="submit" class="btn">Zatwierdź zmiany</button>
                </div>
            </fieldset>
        </form>
    </fieldset>
</form>
<form action="/customers/del" method="post">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <fieldset>
            <input type="number" id="deletedId" name="deletedId" th:value= "${customer.id}" />
            <div>
                <button type="submit" class="btn" style="color: #ac2925">Usuń</button>
            </div>
        </fieldset>
</form>
</body>
</html>
